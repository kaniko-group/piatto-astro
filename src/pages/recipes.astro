---
import { fetchRecipes } from "../utils/fetchRecipes.ts";
const posts = await fetchRecipes();
---

<html>
  <head>
    <title>Recipes</title>
  </head>
  <body>
    <h1>Recipes from WordPress</h1>
    <ul>
      {posts.map(post => (
        <li>
  <a href={`/recipes/${post.slug}`}>
    <h2>{post.title.rendered}</h2>
    {post._embedded?.['wp:featuredmedia']?.[0]?.source_url && (
      <img
        src={post._embedded['wp:featuredmedia'][0].source_url}
        alt={post.title.rendered}
        width="300"
      />
    )}
  </a>
</li>
      ))}
    </ul>
  </body>
</html>
